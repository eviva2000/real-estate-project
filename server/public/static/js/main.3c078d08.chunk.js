(this.webpackJsonprealestate=this.webpackJsonprealestate||[]).push([[0],{31:function(e,t,a){e.exports=a.p+"static/media/logo2.15243493.png"},33:function(e,t,a){e.exports=a.p+"static/media/unisexavatar.9d8150a8.png"},35:function(e,t,a){e.exports=a(65)},40:function(e,t,a){},64:function(e,t,a){},65:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(30),l=a.n(c),s=(a(40),a(3)),o=a(6),i=a(4),m=a(1),u=a.n(m),d=a(2),p=a(31),f=a.n(p),h=a(11),E=a.n(h),v=function(e){var t=e.userData,a=e.isAuth,n=e.onAuth;console.log("user data ...",t);var c=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return localStorage.removeItem("user"),n(!1),e.prev=2,e.next=5,E.a.get("http://ec2-54-172-55-44.compute-1.amazonaws.com/users/logout");case 5:return e.abrupt("return");case 8:return e.prev=8,e.t0=e.catch(2),e.abrupt("return");case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"Nav"},r.a.createElement("div",{id:"imgContainer"},r.a.createElement("img",{src:f.a,alt:"logo"}),a?r.a.createElement("p",null,"Hi ",t.firstname," "):null),a?r.a.createElement("ul",null,r.a.createElement(o.b,{to:"/inventory"},"Inventory"),r.a.createElement(o.b,{to:"/profile"},"Profile"),r.a.createElement("button",{id:"logout",onClick:c},"Log out")):r.a.createElement("ul",null,r.a.createElement(o.b,{to:"/"},"Home"),r.a.createElement(o.b,{to:"/inventory"},"Inventory"),r.a.createElement("div",{id:"signInUpContainer"},r.a.createElement("div",{className:"signInUp",id:"signin"},r.a.createElement(o.b,{to:"/login"},"Login")),r.a.createElement("div",{className:"signInUp",id:"signup"},r.a.createElement(o.b,{to:"/signup"},"Signup")))))},g=function(){var e=Object(n.useState)("none"),t=Object(s.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)([]),o=Object(s.a)(l,2),i=o[0],m=o[1],p=function(){var e=Object(d.a)(u.a.mark((function e(){var t,a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={crossDomain:!0,method:"GET",headers:{"content-type":"application/json","x-apikey":"5ed0af472032862ff2ce2612","cache-control":"no-cache"}},e.next=3,fetch('https://realestate-da8f.restdb.io/rest/addresses?q={"city":"Odense"}',t);case 3:return a=e.sent,e.next=6,a.json();case 6:n=e.sent,console.log(n),m(n),c("block");case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{id:"landingPage"},r.a.createElement("div",{className:"searchContainer"},r.a.createElement("h2",null,"Looking for your dream house?"),r.a.createElement("div",null,r.a.createElement("i",{className:"fas fa-search"}),r.a.createElement("input",{type:"text",name:"",id:"searchInput",placeholder:"Search by City or Postal code",onFocus:p,onInput:p,onBlur:function(){c("none")}}),r.a.createElement("div",{id:"searchResult",style:{display:a}},i.map((function(e){return r.a.createElement("div",{id:"searchItem",key:e._id},r.a.createElement("p",null,e.city," - Postal code:",e.postalcode))}))))))},b=a(16),y=function(e){var t=Object(n.useState)(),a=Object(s.a)(t,2),c=a[0],l=a[1],m=e.onAuth,p=e.userData,f=Object(b.a)(),h=f.register,E=f.handleSubmit,v=f.errors,g=Object(i.g)(),y=(Object(i.h)().state||{from:{pathname:"/profile"}}).from;localStorage.getItem("user")&&g.push("/profile");var w=function(){var e=Object(d.a)(u.a.mark((function e(t){var a,n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={method:"POST",credentials:"include",body:JSON.stringify(t),headers:{Accept:"application/json","Content-Type":"application/json"}},e.next=3,fetch("http://ec2-54-172-55-44.compute-1.amazonaws.com/users/login",a);case 3:return n=e.sent,e.next=6,n.json();case 6:r=e.sent,console.log("response in login....",r.response),m(!0),p(r.response),localStorage.setItem("user",JSON.stringify(r.response)),console.log("from here...",y),g.push(y),l(r.message);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"formContainer"},r.a.createElement("section",{className:"formImage"}),r.a.createElement("div",{className:"loginForm"}," ",c?r.a.createElement("div",{style:{color:"#bb0000"}},c):"",r.a.createElement("h3",null,"Login"),r.a.createElement("form",{onSubmit:E(w)},r.a.createElement("div",null,r.a.createElement("i",{className:"far fa-envelope icon"}),r.a.createElement("input",{type:"text",id:"email",name:"email",placeholder:"Email",ref:h({required:!0,pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i}})}),v.email&&r.a.createElement("small",null,"* Invalid email address ")),r.a.createElement("div",null,r.a.createElement("i",{className:"fa fa-lock icon"}),r.a.createElement("input",{type:"password",id:"password",name:"password",placeholder:"Password",ref:h({required:!0,pattern:{value:/^(?=.*\d)(?=.*[a-zA-Z]).{5,}$/}})}),v.password&&r.a.createElement("small",null,"* Minimum 5 alpha numberic charecters ")),r.a.createElement("div",{id:"btnLinksContainer"},r.a.createElement("button",{className:"submitButton"},"Login"),r.a.createElement("div",{className:"links"},r.a.createElement("div",null,r.a.createElement("a",{href:"/"},"Forgot password?")),r.a.createElement("div",null,r.a.createElement(o.b,{to:"/signup"},"Don't have an account?")))))))},w=function(e){var t=Object(b.a)(),a=t.register,c=t.handleSubmit,l=t.errors,o=Object(n.useState)(""),m=Object(s.a)(o,2),p=m[0],f=m[1],h=Object(i.g)(),E=function(){var e=Object(d.a)(u.a.mark((function e(t){var a,n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}},e.next=3,fetch("http://ec2-54-172-55-44.compute-1.amazonaws.com/users/signup",a);case 3:return n=e.sent,e.next=6,n.json();case 6:r=e.sent,console.log("response....",r),f(r.message),h.push("/login");case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"formContainer"},r.a.createElement("section",{className:"formImage"}),r.a.createElement("div",{className:"registerForm"},r.a.createElement("h2",null,"Welcome to Dream House"),p?r.a.createElement("div",{style:{color:"#bb0000"}},p):"",r.a.createElement("form",{onSubmit:c(E)},r.a.createElement("div",{className:"nameWrapper"},r.a.createElement("input",{type:"text",name:"firstname",placeholder:"First name",ref:a({required:"* First name must be minimum 2 alphabetical charecters",minLength:2,pattern:{value:/^[a-zA-Z\s]+$/}})}),l.name&&r.a.createElement("small",{className:"err-msg"},l.name.message),r.a.createElement("input",{type:"text",name:"lastname",placeholder:"Last name",ref:a({required:"* Last name must be minimum 2 alphabetical charecters",minLength:2,pattern:{value:/^[a-zA-Z\s]+$/}})}),l.lastname&&r.a.createElement("small",{className:"err-msg"},"Last name must be minimum 2 charecter"," ")),r.a.createElement("input",{type:"text",id:"email",name:"email",placeholder:"Email",ref:a({required:!0,pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i}})}),l.email&&r.a.createElement("small",null,"* Invalid email address "),r.a.createElement("input",{type:"password",id:"password",name:"password",placeholder:"Password",ref:a({required:!0,pattern:{value:/^(?=.*\d)(?=.*[a-zA-Z]).{5,}$/}})}),l.password&&r.a.createElement("small",null,"* Minimum 5 alpha numberic charecters "),r.a.createElement("input",{type:"password",name:"repeatPassword",placeholder:"Repeat Password",ref:a({required:!0,pattern:{value:/^(?=.*\d)(?=.*[a-zA-Z]).{5,}$/}})}),l.repeatPassword&&r.a.createElement("small",null,"* Minimum 5 alpha numberic charecters "),r.a.createElement("button",{className:"submitButton"},"Signup"))))},j=a(33),x=a.n(j),O=function(e){var t=e.userData;return r.a.createElement("div",{className:"profileContainer"},r.a.createElement("div",{className:"imgWrapper"},r.a.createElement("img",{src:x.a,id:"avatar",alt:""})),r.a.createElement("div",{className:"userInfo"},r.a.createElement("p",null,r.a.createElement("span",null," Email Address:"),r.a.createElement("div",null,r.a.createElement("input",{className:"profileInput",type:"text",value:t.email}))),r.a.createElement("p",null,r.a.createElement("span",null," Full name: "),r.a.createElement("div",{className:"profileInput",id:"fullName"},r.a.createElement("input",{type:"text",name:"",id:"",value:t.firstname}),r.a.createElement("input",{type:"text",name:"",id:"",value:t.lastname}))),r.a.createElement("div",{className:"resetBtn"}," ",r.a.createElement("li",{style:{listStyle:"none"}}," ",r.a.createElement(o.b,{to:"resetpassword"},"Change password")," "))))},S=function(e){var t="5ed0af472032862ff2ce2612",a="https://realestate-da8f.restdb.io/rest/addresses";console.log(t);var c=Object(n.useState)([]),l=Object(s.a)(c,2),i=l[0],m=l[1];Object(n.useEffect)((function(){function e(){return(e=Object(d.a)(u.a.mark((function e(){var n,r,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={crossDomain:!0,method:"GET",headers:{"content-type":"application/json","x-apikey":t,"cache-control":"no-cache"}},e.next=3,fetch(a,n);case 3:return r=e.sent,e.next=6,r.json();case 6:c=e.sent,console.log(c),m(c);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t]);var p=i.map((function(e){return r.a.createElement(o.b,{key:e._id,to:"/inventory/".concat(e._id)},r.a.createElement("div",{id:"home"},r.a.createElement("div",{style:{width:"100%",height:"25vh",backgroundImage:"url(https://realestate-da8f.restdb.io/media/".concat(e.image,")"),backgroundPosition:"center",backgroundSize:"cover"}}),r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0 1em"}},r.a.createElement("h3",null,e.price,"DKK"),r.a.createElement("p",null,e.beds," | ",e.bath," | ",e.area,"sqm")),r.a.createElement("div",{style:{paddingLeft:"1em"}}," ",e.city," | ",e.street," | ",e.postalcode)))}));return r.a.createElement("div",{id:"homeContainer"}," ",p||r.a.createElement("h2",null,"Loading ....")," ")},N=a(34);E.a.defaults.withCredentials=!0;var k=function(e){var t=e.component,a=e.auth,c=Object(N.a)(e,["component","auth"]),l=Object(i.g)();return Object(n.useEffect)((function(){(function(){var e=Object(d.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.a.get("http://localhost:9090/users/session");case 3:t=e.sent,a=t.data,console.log(a.data),localStorage.setItem("user",JSON.stringify(a.data)),e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(0),localStorage.removeItem("user"),e.abrupt("return");case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}})()()}),[l]),r.a.createElement(i.b,Object.assign({},c,{render:function(e){return!0===a||localStorage.getItem("user")?r.a.createElement(t,e):r.a.createElement(i.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},I=function(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),a=t[0],c=t[1],l=Object(i.i)().homeId,o="https://realestate-da8f.restdb.io/rest/addresses",m="5ed0af472032862ff2ce2612";return Object(n.useEffect)((function(){function e(){return(e=Object(d.a)(u.a.mark((function e(){var t,a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(o,"/").concat(l),e.next=3,fetch(t,{crossDomain:!0,method:"GET",headers:{"content-type":"application/json","x-apikey":m,"cache-control":"no-cache"}});case 3:return a=e.sent,e.next=6,a.json();case 6:n=e.sent,c(n),console.log(n);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),r.a.createElement(r.a.Fragment,null,a?r.a.createElement("div",{id:"homeProfileContainer"},r.a.createElement("div",{id:"imageWrapper"},r.a.createElement("div",{style:{width:"100%",backgroundImage:"url(https://realestate-da8f.restdb.io/media/".concat(a.image,")"),backgroundPosition:"center",backgroundSize:"cover",gridRow:"1 / 5"}}),r.a.createElement("div",{id:"takeTour"}," ","Interested in this property?",r.a.createElement("div",{className:"btn",style:{border:"rgb(167, 166, 171) 1px solid"}},"Take a tour"))),r.a.createElement("div",{id:"homeInfo"},r.a.createElement("div",{style:{display:"flex",alignItems:"center",padding:"0 1em"}},r.a.createElement("h3",null,a.price,"DKK"),r.a.createElement("div",{style:{paddingLeft:"1em"}}," ",a.beds,"bd | ",a.bath,"ba | ",a.area,"sqm")),r.a.createElement("div",{style:{paddingLeft:"1em"}}," ",a.city," | ",a.street," | ",a.postalcode),r.a.createElement("div",{id:"description"},r.a.createElement("div",null),r.a.createElement("p",null,a.description)),r.a.createElement("div",{id:"btns"},r.a.createElement("div",{className:"btn",style:{border:"#e8505b 1px solid",color:"#e8505b"}},"Take a tour"),r.a.createElement("div",{className:"btn",style:{marginLeft:"1em",backgroundColor:"#e8505b",color:"white"}},"Contact agent")),r.a.createElement("hr",null),r.a.createElement("div",null,r.a.createElement("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3002.6133721334145!2d-73.14261198505395!3d41.18659927928308!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x89e80c540ed85383%3A0x1f19914bf8341e26!2s1574+Stratford+Ave%2C+Stratford%2C+CT+06615%2C+USA!5e0!3m2!1sen!2sdk!4v1559070448677!5m2!1sen!2sdk",width:"100%",height:"300",frameBorder:"0",allowFullScreen:!0,title:"AdressMap"})))):r.a.createElement("h2",null,"Loading...."))};a(64);E.a.defaults.withCredentials=!0;var A=function(){var e=Object(n.useState)(!!localStorage.getItem("user")),t=Object(s.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")):""),m=Object(s.a)(l,2),u=m[0],d=m[1];return r.a.createElement(o.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(v,{userData:u,isAuth:a,onAuth:function(e){return c(e)}}),r.a.createElement(i.d,null,r.a.createElement(i.b,{exact:!0,path:"/",component:g}),r.a.createElement(i.b,{exact:!0,path:"/login",component:function(e){return r.a.createElement(y,Object.assign({},e,{onAuth:function(e){return c(e)},userData:d}))}}),r.a.createElement(i.b,{path:"/signup"},r.a.createElement(w,null))," ",r.a.createElement(k,{auth:a,exact:!0,path:"/profile",component:function(e){return r.a.createElement(O,Object.assign({userData:u},e))}}),r.a.createElement(k,{auth:a,exact:!0,path:"/inventory",component:function(e){return r.a.createElement(S,e)}}),r.a.createElement(k,{exact:!0,path:"/inventory/:homeId",component:I}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(A,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[35,1,2]]]);
//# sourceMappingURL=main.3c078d08.chunk.js.map